# ==============================================================================
# ADAPTIC BACKEND-LEGACY ENVIRONMENT VARIABLES
# ==============================================================================
# Copy this file to .env and fill in the actual values
# NEVER commit .env file with real credentials to version control

# ------------------------------------------------------------------------------
# Authentication & Security
# ------------------------------------------------------------------------------

# CORS allowed origins (comma-separated list of allowed origins)
# For local development, include both frontend ports
# For production, include your production domains
ALLOWED_ORIGINS="http://localhost:3000,http://localhost:3001"

# SENSITIVE - JWT secret for token generation (minimum 32 characters)
# Generate with: openssl rand -base64 32
JWT_SECRET="your-jwt-secret-key-minimum-32-characters-here-change-this"

# SENSITIVE - JWT salt for password hashing
# Generate with: openssl rand -base64 32
JWT_SALT="your-jwt-salt-minimum-32-characters-here-change-this"

# SENSITIVE - NextAuth secret (should match JWT_SECRET for consistency)
NEXTAUTH_SECRET="your-nextauth-secret-minimum-32-characters-here-change-this"

# Server authentication token for GraphQL requests
# Used by clients to authenticate with the backend server
NEXT_PUBLIC_SERVER_AUTH_TOKEN="your-server-auth-token-here"

# ------------------------------------------------------------------------------
# GraphQL Backend Endpoints
# ------------------------------------------------------------------------------
# Configure these based on your deployment environment (local/dev/prod)

# LOCAL DEVELOPMENT
BACKEND_HTTPS_URL="http://localhost:4000/graphql"
BACKEND_WS_URL="ws://localhost:4000/subscriptions"

# DEVELOPMENT ENVIRONMENT (uncomment to use)
# BACKEND_HTTPS_URL="https://adaptic-dev.netlify.app/graphql"
# BACKEND_WS_URL="wss://adaptic-dev.netlify.app/subscriptions"

# PRODUCTION ENVIRONMENT (uncomment to use)
# BACKEND_HTTPS_URL="https://api.adaptic.ai/graphql"
# BACKEND_WS_URL="wss://api.adaptic.ai/subscriptions"

# ------------------------------------------------------------------------------
# Database Configuration
# ------------------------------------------------------------------------------

# SENSITIVE - Primary database connection URL
# For local development: postgresql://user:password@localhost:5432/adaptic?schema=public
# For Prisma Accelerate: prisma://accelerate.prisma-data.net/?api_key=YOUR_API_KEY
DATABASE_URL="postgresql://user:password@localhost:5432/adaptic?schema=public"

# SENSITIVE - Direct database connection URL (required for migrations)
# Always use direct PostgreSQL connection string
DIRECT_DATABASE_URL="postgresql://user:password@localhost:5432/adaptic?schema=public"

# SENSITIVE - Prisma Pulse API key (optional, for real-time database events)
PULSE_API_KEY="your-prisma-pulse-api-key-here"

# ------------------------------------------------------------------------------
# AWS Configuration (for S3, Lambda, etc.)
# ------------------------------------------------------------------------------

# SENSITIVE - AWS IAM credentials
MY_AWS_USERNAME="your-aws-username"
MY_AWS_PASSWORD="your-aws-password"
MY_AWS_ACCESS_KEY_ID="your-aws-access-key-id"
MY_AWS_SECRET_ACCESS_KEY="your-aws-secret-access-key"

# AWS region where resources are deployed
MY_AWS_REGION="ap-southeast-2"

# AWS account ID
MY_AWS_ID="your-aws-account-id"

# AWS IAM role ARN for Lambda functions
MY_AWS_ROLE_ARN="arn:aws:iam::YOUR_ACCOUNT_ID:role/your-role-name"

# S3 bucket name for Lambda functions
MY_AWS_S3_BUCKET="your-s3-bucket-name"

# ------------------------------------------------------------------------------
# Rate Limiting
# ------------------------------------------------------------------------------

# Maximum requests per 15-minute window for authenticated users on /graphql
# RATE_LIMIT_MAX="1000"

# Maximum requests per 15-minute window for unauthenticated users on /graphql
# RATE_LIMIT_MAX_UNAUTH="200"

# ------------------------------------------------------------------------------
# Database Connection Pool
# ------------------------------------------------------------------------------

# Override the default connection pool size (optional)
# Defaults: development=5, staging=10, production=20
# DATABASE_POOL_SIZE="20"

# Connection pool timeout in milliseconds (optional, default: 10000)
# DATABASE_POOL_TIMEOUT_MS="10000"

# ------------------------------------------------------------------------------
# Application Configuration
# ------------------------------------------------------------------------------

# Global namespace for the application
GLOBAL_NAMESPACE="adaptic"

# ------------------------------------------------------------------------------
# Railway Configuration (for Railway deployments)
# ------------------------------------------------------------------------------

# SENSITIVE - Railway authentication tokens
RAILWAY_TOKEN="your-railway-token-here"
RAILWAY_API_TOKEN="your-railway-api-token-here"
